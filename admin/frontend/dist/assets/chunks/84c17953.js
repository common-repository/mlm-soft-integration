var O=Object.defineProperty;var x=(e,a,t)=>a in e?O(e,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[a]=t;var r=(e,a,t)=>(x(e,typeof a!="symbol"?a+"":a,t),t);import{r as v,C as m}from"./bcd39eff.js";import{M as o,A as P}from"./e1eaa995.js";import{T as b,O as g,M as U,a as $}from"./9f99010c.js";import{M as A,B as y}from"./079d606a.js";import{n as h}from"../entry/index.js";class i{}r(i,"ProjectUrl",o.PluginPrefix+"project_url"),r(i,"OnlineOffice",o.PluginPrefix+"online_office"),r(i,"DomainSignature",o.PluginPrefix+"domain_signature"),r(i,"RedirectAfterRemoteAuth",o.PluginPrefix+"redirect_after_remote_auth"),r(i,"AllowedUsers",o.PluginPrefix+"allowed_users"),r(i,"StatusPropertyAlias",o.PluginPrefix+"status_property_alias"),r(i,"SyncUsers",o.PluginPrefix+"sync_users");class w{static url(a){let t;try{t=new URL(a)}catch{return!1}return t.protocol==="http:"||t.protocol==="https:"}}class B extends b{constructor(){super(...arguments);r(this,"rules",[t=>!!t||"URL is required",t=>w.url(t)||"URL not valid"])}}class p{}r(p,"AffiliateHeaderEnabled",o.PluginPrefix+"affiliate_header_enabled"),r(p,"AuthorizedUserHeaderEnabled",o.PluginPrefix+"authorized_user_header_enabled");class H{constructor(a){r(this,"rules",[]);r(this,"value",v([]));this.name=a}getRaw(){return this.value.value}loadFromRaw(a){this.value=v(a)}}var S=Object.defineProperty,M=Object.getOwnPropertyDescriptor,R=(e,a,t,n)=>{for(var s=n>1?void 0:n?M(a,t):a,l=e.length-1,u;l>=0;l--)(u=e[l])&&(s=(n?u(a,t,s):u(s))||s);return n&&s&&S(a,t,s),s};let c=class extends g{constructor(){super(...arguments);r(this,"usersLoading",!1);r(this,"users",[])}async loadUsers(){this.usersLoading=!0;const a=await P.instance.getAdminUsers();this.users=a.map(t=>t.user_nicename),this.usersLoading=!1}async created(){this.setInternalOption(),await this.loadUsers()}changeHandler(){this.changeOption()}};c=R([m({})],c);var j=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("v-combobox",{attrs:{rules:e.optionInternal.rules,loading:e.usersLoading,items:e.users,label:e.label,hint:e.hint,"hide-selected":"",multiple:"","small-chips":""},on:{change:e.changeHandler},model:{value:e.optionInternal.value.value,callback:function(n){e.$set(e.optionInternal.value,"value",n)},expression:"optionInternal.value.value"}})},L=[];const _={};var q=h(c,j,L,!1,E,null,null,null);function E(e){for(let a in _)this[a]=_[a]}var T=function(){return q.exports}(),z=Object.defineProperty,C=Object.getOwnPropertyDescriptor,D=(e,a,t,n)=>{for(var s=n>1?void 0:n?C(a,t):a,l=e.length-1,u;l>=0;l--)(u=e[l])&&(s=(n?u(a,t,s):u(s))||s);return n&&s&&z(a,t,s),s};let d=class extends ${constructor(){super(...arguments);r(this,"UrlOption",B);r(this,"TextOption",b);r(this,"BooleanOption",y);r(this,"ArrayOption",H);r(this,"BaseOptions",i);r(this,"HeaderOptions",p)}mounted(){super.mounted()}};d=D([m({components:{MAllowedUsersOption:T,MBooleanOption:A,MTextOption:U}})],d);var I=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("v-form",{model:{value:e.valid,callback:function(n){e.valid=n},expression:"valid"}},[e.preloaded?t("v-container",[t("v-spacer"),t("v-subheader",[e._v(e._s(e.$t("base.urls")))]),t("v-spacer"),t("m-text-option",{attrs:{option:e.UrlOption,name:e.BaseOptions.ProjectUrl,label:e.$t("base.projectUrl"),required:!0}}),t("m-text-option",{attrs:{option:e.UrlOption,name:e.BaseOptions.OnlineOffice,label:e.$t("base.onlineOfficeUrl"),required:!0}}),t("m-text-option",{attrs:{option:e.TextOption,name:e.BaseOptions.DomainSignature,label:e.$t("base.domainSignature"),required:!0,readonly:!0}}),t("v-spacer"),t("v-subheader",[e._v(e._s(e.$t("base.remoteAuth")))]),t("v-spacer"),t("m-text-option",{attrs:{option:e.TextOption,name:e.BaseOptions.RedirectAfterRemoteAuth,label:e.$t("base.redirectUrl"),required:!0}}),t("v-spacer"),t("v-subheader",[e._v(e._s(e.$t("base.properties")))]),t("v-spacer"),t("m-text-option",{attrs:{option:e.TextOption,name:e.BaseOptions.StatusPropertyAlias,label:e.$t("base.cpStatusPropertyAlias"),required:!0}}),t("v-spacer"),t("v-subheader",[e._v(e._s(e.$t("base.users")))]),t("v-spacer"),t("m-allowed-users-option",{attrs:{option:e.ArrayOption,name:e.BaseOptions.AllowedUsers,label:e.$t("base.allowedUsers"),hint:e.$t("base.allowedUsersHint"),required:!0}}),t("m-boolean-option",{attrs:{option:e.BooleanOption,name:e.BaseOptions.SyncUsers,label:e.$t("base.synchronizingUsers"),required:!1,"default-value":"1"}}),t("v-spacer"),t("v-subheader",[e._v(e._s(e.$t("base.headers")))]),t("v-spacer"),t("m-boolean-option",{attrs:{option:e.BooleanOption,name:e.HeaderOptions.AffiliateHeaderEnabled,label:e.$t("base.enableAffiliateHeader")}}),t("m-boolean-option",{attrs:{option:e.BooleanOption,name:e.HeaderOptions.AuthorizedUserHeaderEnabled,label:e.$t("base.enableAuthorizedUserHeader")}}),t("v-btn",{attrs:{disabled:!e.valid,color:"success",loading:e.optionsStore.optionsLoading},on:{click:e.saveHandler}},[e._v(" "+e._s(e.$t("save"))+" ")])],1):t("v-skeleton-loader",{attrs:{type:"article, actions"}})],1)},F=[];const f={};var V=h(d,I,F,!1,G,null,null,null);function G(e){for(let a in f)this[a]=f[a]}var Y=function(){return V.exports}();export{Y as default};
